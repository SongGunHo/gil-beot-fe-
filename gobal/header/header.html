<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title></title>
        <style>
            /*nav 줄 정리*/
            nav{
                display: flex;
                gap: 12px;
                align-items: center;
                flex-wrap: wrap;
            }
            /*드롭다운 부모 - position: relative 필수! - 자식 메뉴(position:absolute)의 기준점이 됨*/
            .dropdown {
                position: relative;
                display: inline-block;
            }
            /* 드롭다운 메뉴 기본 상태 - 처음에는 숨김 (display: none) - absolute로 버튼 아래에 위치*/
            .dropdown__meun{
                display: none; /*기본 숨김*/
                position: absolute; /*버튼 기준으로 떠야 함*/
                top: calc(100px + 8px); /*버튼 아래 8px 떨어짐*/
                
            }
        </style>
    </head>
    <body>
        <header>
                <nav>
                    
                    <a href="../member/join.html">회원가입</a>
                    <a href="../member/login.html">로그인</a>
                     <a href="../places/DOMESTIC.html">국내</a>
                    <a href="../places/OVERSEAS.html">해외</a>
                    <a href="../main.html">홈</a>
                </nav>
                <div class="dropdown">
                    <button type="button" class="dropdown__btn" aria-expanded="false" >마이페이지</button>
                    <div class="dropdown__menu" role="menu">
                        <a href="#" role="menuitem">내정보</a>
                        <a href="#" role="menuitem">예약 정보</a>
                    </div>
                </div>
                <!--드롭 다운2-->
                <div class="dropdown">
                    <button type="button" class="dropdown__btn" aria-expanded="false">고객센터</button>
                    <div class="dropdown__menu" role="menu">
                        <a href="#" role="menuitem">공지사항</a>
                        <a href="#" role="menuitem">문의 사항</a>

                    </div>
                </div>
                <div class="sarch-box">
                    <input type="text" id="searchInput" placeholder="검색을 입력 하세요">
                    <button id="searchBtn">검색</button>

                </div>
        </header>
    </body>
    <script>
        // 드롭 다운 
        document.addEventListener("DOMContentLoaded", ()=>{
            const dropdown = document.querySelectorAll(".dropdown");
            
            dropdown.forEach(dd =>{
                const btn = dd.querySelector(".dropdown__btn");

                btn.addEventListener("click", ()=>{
                    // 다른 드롭 다운 받기 
                    dropdown.forEach(other =>{
                        if(other !== dd ) {
                            other.classList.remove("is-open");
                            other.querySelector(".dropdown__btn")?.setAttribute("aria-expanded", "false");

                        }
                    });
                    // 현재 드롭 다운 토글 
                    const isOpen = dd.classList.toggle("is-open");
                    btn.setAttribute("aria-expanded", String(isOpen)); 
                });
            });
            // 바깥 클릭시 닫기 
            document.addEventListener("click", (e) => {
                dropdown.forEach(dd => {
                    if (!dd.contains(e.target)) {
                        dd.classList.remove("is-open");
                        dd.querySelector(".dropdown__btn")?.setAttribute("aria-expanded", "false");
                    }
                });
            });
            // esc 닫기 
            document.addEventListener("keydown", (e) =>{
                if(e.key === "Escape"){
                    dropdown.forEach(dd =>{
                        dd.classList.remove("is-open");
                        dd.querySelector(".dropdown__btn")?.setAttribute("aria-expanded", "false");
                    });
                }
            })
        });
    </script>
</html>