<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>회원가입</title>
  <style>
    /*기본 리셋 + 폰트*/
    *{
      /* 모든 요소에 box-sizing 적용
   → padding, border 포함해서 width 계산됨 */
      box-sizing: border-box;
    }
    /* 전체 배경과 기본 폰트 설정 */
    body {
      margin: 0; /*기본 여백*/
      padding: 40px 16px; /*위아래 좌우 여백 */
      font-family: system-ui, -apple-system, "Noto Sans KR", sans-serif; /**/
      background: #f5f7fb; /*연한 회색 배경*/
      color: #111;
    }
    /* 1) 회원가입 폼 카드 영역 */
    /* 폼 전체를 카드처럼 보이게 */
    #joinForm {
      max-width: 520px; /*최대 너비 제한*/
      margin: 0 auto; /* 가운데 정렬 */
      background: #fff; /* 횐 배경 */
      border: 1px solid #e638ee;
      border-radius: 14px; /* 둥근 모서리 */
      padding: 22px 18px ; /* 내부 여백 */
      box-shadow: 0 10px 30px rgba(0, 0,0, 0, 0.5); /* 그림자 */
    }
    /* 테이블 전체 폭 */
    #joinForm table {
      width: 100%;
      border-collapse: collapse; /* 셀 간격 제거  */
    }
    /* 각 셀 여백 */
    #joinForm td {
      padding: 10px 8px;
      vertical-align: middle;
    } 
    /* 라벨 스타일 */
    #joinForm label{
      font-weight: 600px;
      font-size: 14px;
      color: #222;
      display: inline-block;
      min-width: 90px;
    }
    /*2) 인풋 공통 스타일*/
    /*텍스트/ 페스워드 입력 공통*/
    #joinForm input[type= "text"],
    #joinForm input[type= "password"]{
      width: 100%; /*셀 꽉채움/  */
      padding: 12px; /*내부 여백*/
      border-radius: 10px;
      outline: none;
      font-size: 14px;
      background: #111;
      transition: border-color 0.15s ease,
              box-shadow 0.15s ease; /* 포커스 애니메이션 */
    }
    /* readonly 입력창 톤 다운 */
    #joinForm input:focus {
      border-color: #4a7cff;
      box-shadow: 0 0 0 4px rgba(74, 124,255,0.12);
    }
    /* placeholder 색 */
    #joinForm input::placeholder {
      color: #9aa3b2;
    }
  /*3) 버튼 스타일*/
    /* 버튼 공통 */
    #joinForm button {
      padding: 12px 14px;
      border: 0;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      font-size: 14px;
      transition: transform 0.08s ease,
              opacity 0.15s ease; /* 애니메이션 설정*/
    }
    /* 주소찾기 버튼 */
    #findZip {
      width: 100%;
      background: #eef2ff;
      color: #2a45d8;
    }
    /* hover 효과 */
    #findZip:hover{
      opacity: 0.92;
    }
    /*클릭 눌림 효과*/
    #findZip:active{
      transform: translateY(1px);
    }
    /*회원 가입 완료 버튼*/
    #joinForm button[type="submit"] {
      width: 100%;
      background:  #2563eb;
      margin-top: 6px;
    }
  /*4) 모달 스타일*/
    /*기본은 숨김*/
    .modal {
      position: fixed; /*화면(viewport)에 붙여서 위치 고정*/
      inset: 0; /*top/ rigth/ bottiom /left = 0 -> 화면 전체 닫기*/
      display: none; /*기본 숨김*/
      z-index: 999; /*다른 요소보다 위에 올라오게 */
    }
    /*모달 열림 상태  - JS에서 successModal.classList.add("is-open") 하면 적용됨 */
    .modal-is-open {
      display: block; /*보여주기*/

    }
    /* [3] 배경(어두운 오버레이)- 클릭하면 닫히게(data-close="true") 처리해둠 */
    .modal-backdrop {
      position: absolute;  /*.modal내부 기준 으로 정렬*/
      inset: 0;  /*화면 전체 닫기*/
      background: rgba(0, 0,0, 0, 0.45); /*반투명 검정 배경*/
    }
    /* [4] 실제 모달 박스(패널) - 중앙에 뜨는 흰 박스 */
    .modal-panel{
      position: relative; /*x 버튼/ 내용 배치를 안정적으로*/
      width: min(520px, calc(100px -32px)); /* pc는 520px 모바일은 10px 여백 */
      margin: 0 auto; /*가로 중앙 정렬*/
      top: 18vh; /*화면 위에 18% 내려온 위치*/
      background: #fff; /*박스 배경*/
      border-radius: 14px;  /*둥근 모서리*/
      border: 1px solid #e638ee;
      box-shadow: 0 20px  60px rgba(0, 0,0, 0, 0.25); /*모달 입체감*/
      overflow: hidden; /*둥근 모서리  밖으로 내용 튀는 것을 방지 */
    }
  /*[5] 모달 헤더 - 제목 + 닫기 버튼 */
    .modal_header {
      display: flex; /*제목과 x 버튼을 한줄에 */
      align-items: center; /*세로 가운데 정렬*/
      justify-content: space-between; /*좌 제목/ 우:x 버튼*/
      padding: 14px 16px; /*내부 여백*/
      border-bottom: 1px solid #eef0f5;
    }
    /*해더 제목*/
    .modal_header h2 {
      margin: 0;
      font-size: 18px;
    }
  /* [6] 닫기 버튼(X) - 모달 우측 상단 */
    .modal_close{
      width: 36px; /*가로 여백*/
      height: 30px; /*위에 여백*/
      border-radius: 10px;
      border: 1px solid #e6e8ee;
      background: #fff;
      cursor: pointer;
      font-weight: 800;
    }
    /*hover 시 살짝 배경 변화*/
    .modal_close:hover {
      background: #f4f6fb;
    }
  /*[7] 모달 본문*/
    .modal_body {
      padding: 10px 16px;
      color: #333;
      line-height: 1.6; /*줄간격*/
    }
  /* [8] 모달 하단(푸터) - 확인 버튼 배치 */
    .modal_footer{
      padding: 14px 16px 18px;
      display: flex;
      justify-content: flex-end; /*버튼을 오른쪽으로*/
      gap: 10px;
      border-top: 1px solid #eef0f5;
    }
  /* [9] 확인 버튼 */
    #goLogin {
      background: #2563eb;
      color: #fff;
      padding: 12px 16px;
      border: 0;
      border-radius: 10px;
      font-weight: 800;
      cursor: pointer;
    }
    /* hover / active 효과 */
    #goLogin:hover {
      opacity: 0.94;
    }
    #goLogin:active {
      transform: translateY(1px); /*늘리는 느낌*/
    }
  /*모바일 대응(선택)- 화면이 좁을 때 모달이 조금 더 위로 오게*/
    @media (max-width: 520px){
      .modal-panel {
        top: 14vh;
      }
    }
  </style>

  <!-- =====================================================
       다음(카카오) 주소 API
       - 이 스크립트가 있어야 new daum.Postcode() 사용 가능
       - 주소 찾기 팝업을 띄우는 공식 라이브러리
       ===================================================== -->
  <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>

<body>

  <!-- =====================================================
       [1] 회원가입 폼 영역
       - 사용자가 실제로 입력하는 영역
       ===================================================== -->
  <form action="../member/join.html" id="joinForm">
    <table>

      <!-- 아이디 -->
      <tr>
        <td><label for="Id">아이디</label></td>
        <td>
          <!-- 사용자가 입력 -->
          <input type="text" id="Id" placeholder="아이디를 입력하세요">
        </td>
      </tr>

      <!-- 비밀번호 -->
      <tr>
        <td><label for="mpassword">비밀번호</label></td>
        <td>
          <input type="password" id="mpassword" placeholder="비밀번호 입력">
        </td>
      </tr>

      <!-- 비밀번호 확인 -->
      <tr>
        <td><label for="PasswordConfirm">비밀번호 확인</label></td>
        <td>
          <input type="password" id="PasswordConfirm" placeholder="비밀번호 재입력">
        </td>
      </tr>

      <!-- 전화번호 -->
      <tr>
        <td><label for="phone">전화번호</label></td>
        <td>
          <input type="text" id="phone" placeholder="전화번호 입력">
        </td>
      </tr>

      <!-- =============================
           주소 영역 시작
           ============================= -->

      <!-- 우편번호 + 주소찾기 버튼 -->
      <tr>
        <td><label for="zip">우편번호</label></td>
        <td>
          <!-- readonly: 사용자가 직접 수정 못하게 -->
          <input type="text" id="zip" placeholder="우편번호" readonly>
        </td>
        <td>
          <!-- type="button" 중요!
               submit 방지 -->
          <button type="button" id="findZip">주소 찾기</button>
        </td>
      </tr>

      <!-- 기본주소 -->
      <tr>
        <td><label for="addr1">기본주소</label></td>
        <td>
          <input type="text" id="addr1" placeholder="기본주소" readonly>
        </td>
      </tr>

      <!-- 상세주소 -->
      <tr>
        <td><label for="addr2">상세주소</label></td>
        <td>
          <!-- 상세주소는 사용자가 입력해야 하므로 readonly ❌ -->
          <input type="text" id="addr2" placeholder="상세주소">
        </td>
      </tr>

      <!-- =============================
           약관 보기
           ============================= -->
      <tr>
        <td>약관</td>
        <td>
          <!-- 새 탭으로 약관 페이지 열기 -->
          <a href="../member/terms.html" target="_blank">약관 보기</a>
        </td>
      </tr>

      <!-- 회원가입 버튼 -->
      <tr>
        <td></td>
        <td>
          <!-- submit 발생 → JS에서 가로챔 -->
          <button type="submit">회원 가입 완료</button>
        </td>
      </tr>

    </table>
  </form>

  <!-- =====================================================
       [2] 회원가입 성공 모달
       - CSS는 내일 붙일 예정
       - 지금은 구조만 만들어 둠
       ===================================================== -->
  <div class="modal" id="successModal" aria-hidden="true">

    <!-- 배경 클릭 시 닫기 처리용 -->
    <div class="modal-backdrop" data-close="true"></div>

    <!-- 실제 모달 박스 -->
    <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="successTitle">

      <!-- 모달 헤더 -->
      <header class="modal_header">
        <h2 id="successTitle">회원가입 완료</h2>

        <!-- X 버튼 (닫기) -->
        <button class="modal_close" type="button" data-close="true" aria-label="닫기">X</button>
      </header>

      <!-- 모달 본문 -->
      <div class="modal_body">
        <p>회원가입이 성공적으로 완료되었습니다. 로그인 페이지로 이동합니다.</p>
      </div>

      <!-- 모달 하단 -->
      <footer class="modal_footer">
        <!-- 확인 버튼 -->
        <button type="button" id="goLogin">확인</button>
      </footer>

    </div>
  </div>

  <!-- =====================================================
       [3] JS 영역
       ===================================================== -->
  <script>

    /* =====================================================
       A. 다음 주소 찾기 기능
       ===================================================== */

    // 요소 가져오기
    const findZip = document.getElementById("findZip");
    const zip = document.getElementById("zip");
    const addr1 = document.getElementById("addr1");
    const addr2 = document.getElementById("addr2");

    // 주소찾기 버튼 클릭
    findZip.addEventListener("click", () => {
      new daum.Postcode({
        oncomplete: function (data) {
          zip.value = data.zonecode;   // 우편번호 입력
          addr1.value = data.address;  // 기본주소 입력
          addr2.value = "";            // 상세주소 초기화
          addr2.focus();               // 상세주소로 커서 이동
        }
      }).open();
    });

    /* =====================================================
       B. 성공 모달 제어
       ===================================================== */

    // 폼
    const form = document.getElementById("joinForm");

    // 모달
    const successModal = document.getElementById("successModal");

    // 로그인 이동 버튼
    const goLoginBtn = document.getElementById("goLogin");

    // 모달 열기
    function openSuccessModal() {
      successModal.classList.add("is-open");
      successModal.setAttribute("aria-hidden", "false");
    }

    // 모달 닫기
    function closeSuccessModal() {
      successModal.classList.remove("is-open");
      successModal.setAttribute("aria-hidden", "true");
    }

    /* =====================================================
       C. 회원가입 제출 가로채기
       ===================================================== */
    form.addEventListener("submit", (e) => {
      e.preventDefault();        // 실제 서버 전송 막기
      openSuccessModal();        // 성공 모달 표시
    });

    /* =====================================================
       D. 배경/X 클릭 닫기
       ===================================================== */
    successModal.addEventListener("click", (e) => {
      if (e.target.dataset.close === "true") {
        closeSuccessModal();
      }
    });

    /* =====================================================
       E. ESC 키로 모달 닫기
       ===================================================== */
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && successModal.classList.contains("is-open")) {
        closeSuccessModal();
      }
    });

    /* =====================================================
       F. 확인 버튼 → 로그인 페이지 이동
       ===================================================== */
    goLoginBtn.addEventListener("click", () => {
      location.href = "../member/login.html";
    });

  </script>
</body>
</html>
