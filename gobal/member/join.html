<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
        <title></title>
    </head>
    <body>
        <form action="../member/join.html">
            <table>
                <tr>
                    <td><label for="Id">아이디</label></td>
                    <td><input type="text" id="Id" placeholder="아이디를 입력을 하세요"></td>
                </tr>
                <tr>
                    <td><label for="mpassword">비밀 번호</label></td>
                    <td><input type="password" id="mpassword" placeholder="비밀 번호를 입력 하세요"></td>
                </tr>
                <tr>
                    <td><label for="PasswordConfirm">비밀 번호 확인</label></td>
                    <td> <input type="password" id="PasswordConfirm" name="PasswordConfirm" placeholder="비밀 번호를 입력 하세요"></td>
                </tr>
                <tr>
                    <td><label for="phone">전화 번호</label></td>
                    <td><input type="text" id="phone" name="phone" placeholder="전화 번호를 입력 하세요"></td>
                </tr>
                <tr>
                    <td><label for="emailId">이메일</label></td>
                    <td><input type="text" id="emailId" name="emailId" placeholder="example@gmail.com"></td>
                    <td><span>@</span></td>                    <td>
                        <select id="emailDomain">
                            <option value="직접 입력">직접 입력</option>
                            <option value="naver.com">naver.com</option>
                            <option value="kakao.com">kakao.com</option>
                            <option value="gmail.com">gmail.com</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="zip">우편번호</label></td>
                    <td><input type="text" id="zip" name="zip" placeholder="우편 번호" readonly></td><!--  readonly 는 필수 항목일 때 -->
                    <td><button type="button" id="findZip">주소</button></td>
                </tr>
                <tr>
                    <td><label for="addr1">기본주소</label></td>
                    <td><input type="text" id="addr1" name="addr1" placeholder="기본 주소" readonly></td>
                </tr>
                <tr>
                    <td><label for="addr2">상세 주소</label></td>
                    <td><input type="text" id="addr2" name="addr2" placeholder="상세 주소" readonly></td>
                </tr>
                <td></td>
                <td><button type="submit">회원 가입 완료</button></td>
            </table>
        </form>
        <!--모달 성공 -->
        <div class="modal" id="sucessModal" aria-hidden="true">
            <div class="modal-backdrop" data-close="true"></div>

            <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="successTitle"></div>
            <header class="modal_header">
                <h2 id="sucessTitle">회원가입 완료</h2>
                <button class="modal_close" type="button" data-close="true" aria-label="닫기"></button>
            </header>
            <div class="modal_body">
                <p>회원 가입이 성공적으로 완료 되었습니다 . 로그인 페이지로 이동 합니다 </p>
            </div>
            <footer class="modal_footer">
                <button type="button" id="goLogin">확인</button>
            </footer>

        </div>

    </body>
    <script>
        const findZip = document. getElementById("findZip");
        const zip = document.getElementById("zip");
        const addr1 = document.getElementById("addr1");
        const addr2 = document.getElementById("addr2");
        findZip.addEventListener("click" , ()=>{
            new daum.Postcode({
                oncomplete: function (data) {
                    zip.value = data.zonecode;       // 우편번호
                    addr1.value = data.address;      // 기본주소
                    addr2.value = "";                // 상세주소는 비우고
                    addr2.focus();                   // 상세주소 입력하도록 포커스

                }
            }).open();
        })
        //0) 폼/모달 요소
        const form = document.querySelector("form"); // 네페이지에 form 하나라면 이걸로 충분
        const sucessModal= document.getElementById("sucessModal");
        const goLogin = document.getElementById("goLogin");

        // ✅ 1) 모달 열고 닫기
        function openSucessModal(){
            sucessModal.classList.add("is-open");
            sucessModal.setAttribute("aria-hidden", "false");
        }
        function closeSucessModal(){
            sucessModal.classList.remove("is-open");
            sucessModal.setAttribute("arai-hidden", "true");

        }
        // ✅ 2) 제출 시 성공 모달 띄우기 (지금은 프론트 가정)
        form.addEventListener("submit" ,(e)=>{
            e.preventDefault(); // 실제 제출 막기
            // (선택) 여기에서 필수 검증을 추가해도 됨
            // 예: 비번/확인 일치, 빈칸 체크 등
            openSucessModal();
            // ✅ 3) 모달 배경/닫기버튼 클릭 닫기
        })
    </script>
</html>